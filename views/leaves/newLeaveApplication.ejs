<div class="content container-fluid p-0">
    <div class="card">

        <div class="card-header">
            <h5 class="card-title mb-0">
                <% if(emp_id == 0){ %> Sample Leave Application
                <% }else{ %> Leave Application <% } %>
            </h5>
        </div>

        <div class="card-body"> 

            <% if (newForm) { %>
                <form page_after_submit="/leaves/my-applications" action="/auth/form_submit/addNewLeaveApplication">
                    <div class="row mb-3">
                        <label class="col-sm-2 col-form-label" for="inputType">Leave Type</label>
                        <div class="col-sm-10">  
                            <select name="leavetype" id="inputType" class="form-control" required>
                                <% types.forEach(function(type){ %>
                                <option value="<%= type.leave_type_id %>"><%= type.leave_type %></option>
                                <% }) %> 
                            </select>
                        </div>
                    </div>     
                    <div class="row mb-3">
                        <label class="col-sm-2 col-form-label" for="inputDT">Start Date</label>
                        <div class="col-sm-10">
                            <input type="date" name="startdate" class="form-control" id="inputSD" required>
                        </div>
                    </div>
                    <div class="row mb-3">
                        <label class="col-sm-2 col-form-label" for="inputDT">End Date</label>
                        <div class="col-sm-10">
                            <input type="date" name="enddate" class="form-control" id="inputED" required>
                        </div>
                    </div>
                    <div class="row mb-3">
                        <label class="col-sm-2 col-form-label" for="inputPeriod">Leave Days</label>
                        <div class="col-sm-10">
                            <input type="int" name="period" class="form-control" id="inputPeriod" placeholder="# of days" required>
                        </div>
                    </div>
                    <% if (emp_id != 0) { %>
                        <button type="submit" class="btn btn-primary">Apply</button>
                    <% } %>
                </form>

            <% }else{ %>

                <form page_after_submit="/leaves/my-applications" action="/auth/form_submit/editLeaveApplication">     
                    <div class="row mb-3">
                        <input type="hidden" name="leave_id" value="<%= leave_id %>">
                        <label class="col-sm-2 col-form-label" for="inputDT">Start Date</label>
                        <div class="col-sm-10">
                            <input type="date" name="startdate" class="form-control" id="inputSD" value="<%= leave_from %>" required>
                        </div>
                    </div>
                    <div class="row mb-3">
                        <label class="col-sm-2 col-form-label" for="inputDT">End Date</label>
                        <div class="col-sm-10">
                            <input type="date" name="enddate" class="form-control" id="inputED" value="<%= leave_to %>" required>
                        </div>
                    </div>
                    <div class="row mb-3">
                        <label class="col-sm-2 col-form-label" for="inputPeriod">Leave Days</label>
                        <div class="col-sm-10">
                            <input type="int" name="period" class="form-control" id="inputPeriod" value="<%= period %>" required>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary">Save Changes</button>
                </form>
                
            <% } %>
        </div>

    </div>
</div>